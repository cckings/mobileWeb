webpackJsonp([1],{"2Dnq":function(t,e){},"2LoE":function(t,e,i){t.exports={default:i("S1jn"),__esModule:!0}},"2kTI":function(t,e,i){"use strict";(function(t){e.a={name:"article-list",data:function(){return{screenWidth:document.body.clientWidth,dynamicList:[],pageInfo:{page:1,pre_page:20,total:3},btnFlag:!1}},methods:{delHtmlTag:function(t){return t=(t=t.replace(/<[^>]+>/g,"")).replace(/&nbsp;/gi,"")},addArticle:function(){this.$emit("addArticle","addArticle")},todetail:function(t){this.$emit("todetail","articleDetail",t)}},mounted:function(){1==this.$route.query.admin&&(this.btnFlag=!0);var e=this;this.$http.get("/apis/api/article/all",{params:{page:e.pageInfo.page,pre_page:e.pageInfo.pre_page}}).then(function(i){e.dynamicList=i.date.article_list,e.pageInfo.total=i.date.page_info.count,e.$nextTick(function(){var n=0;n=e.screenWidth>768?131:130+150*t(e.$refs.childView).width()/240;var o=o=i.date.article_list.length*n+28;e.$emit("autoHeight",e.$refs.childView?o:0)})}),window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,e.screenWidth=window.screenWidth;var i=t(e.$refs.childView).find("li").height()+30,n=n=e.dynamicList.length*i+28;e.$emit("autoHeight",e.$refs.childView?n:0)}()}}}}).call(e,i("fu2u"))},"4anw":function(t,e){},"5FyJ":function(t,e,i){var n=i("C02x"),o=i("AKd3"),r=i("bgFz"),a=i("CVJP"),s=i("lIiZ").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"7J6k":function(t,e,i){var n=i("/r4/"),o=i("9akD").f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(n(t))}},"9akD":function(t,e,i){var n=i("eqTP"),o=i("zDlt").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},CVJP:function(t,e,i){e.f=i("biYF")},DVkV:function(t,e,i){var n=i("pplb")("meta"),o=i("8Nvm"),r=i("Mcur"),a=i("lIiZ").f,s=0,c=Object.isExtensible||function(){return!0},l=!i("BRDz")(function(){return c(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!r(t,n)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return l&&d.NEED&&c(t)&&!r(t,n)&&u(t),t}}},Eq4a:function(t,e,i){var n;n=function(){"use strict";function t(t){return!!t&&(t instanceof HTMLCollection||t instanceof NodeList)}var e=[];function i(e){if(e){if(e instanceof i)return e;this.selector=e;var n,o,r=e.nodeType,a=[];9===r?a=[e]:1===r?a=[e]:t(e)||e instanceof Array?a=e:"string"==typeof e&&(0===(e=e.replace("/\n/mg","").trim()).indexOf("<")?(n=e,o=void 0,(o=document.createElement("div")).innerHTML=n,a=o.children):a=function(e){var i=document.querySelectorAll(e);return t(i)?i:[i]}(e));var s=a.length;if(!s)return this;var c=void 0;for(c=0;c<s;c++)this[c]=a[c];this.length=s}}function n(t){return new i(t)}i.prototype={constructor:i,forEach:function(t){var e=void 0;for(e=0;e<this.length;e++){var i=this[e];if(!1===t.call(i,i,e))break}return this},clone:function(t){var e=[];return this.forEach(function(i){e.push(i.cloneNode(!!t))}),n(e)},get:function(t){var e=this.length;return t>=e&&(t%=e),n(this[t])},first:function(){return this.get(0)},last:function(){var t=this.length;return this.get(t-1)},on:function(t,i,n){n||(n=i,i=null);var o=[];return o=t.split(/\s+/),this.forEach(function(t){o.forEach(function(o){o&&(e.push({elem:t,type:o,fn:n}),i?t.addEventListener(o,function(t){var e=t.target;e.matches(i)&&n.call(e,t)}):t.addEventListener(o,n))})})},off:function(t,e){return this.forEach(function(i){i.removeEventListener(t,e)})},attr:function(t,e){return null==e?this[0].getAttribute(t):this.forEach(function(i){i.setAttribute(t,e)})},addClass:function(t){return t?this.forEach(function(e){var i=void 0;e.className?((i=(i=e.className.split(/\s/)).filter(function(t){return!!t.trim()})).indexOf(t)<0&&i.push(t),e.className=i.join(" ")):e.className=t}):this},removeClass:function(t){return t?this.forEach(function(e){var i=void 0;e.className&&(i=(i=e.className.split(/\s/)).filter(function(e){return!(!(e=e.trim())||e===t)}),e.className=i.join(" "))}):this},css:function(t,e){var i=t+":"+e+";";return this.forEach(function(e){var n=(e.getAttribute("style")||"").trim(),o=[];n?(n.split(";").forEach(function(t){var e=t.split(":").map(function(t){return t.trim()});2===e.length&&o.push(e[0]+":"+e[1])}),(o=o.map(function(e){return 0===e.indexOf(t)?i:e})).indexOf(i)<0&&o.push(i),e.setAttribute("style",o.join("; "))):e.setAttribute("style",i)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var t=this[0];return t?n(t.children):null},childNodes:function(){var t=this[0];return t?n(t.childNodes):null},append:function(t){return this.forEach(function(e){t.forEach(function(t){e.appendChild(t)})})},remove:function(){return this.forEach(function(t){if(t.remove)t.remove();else{var e=t.parentElement;e&&e.removeChild(t)}})},isContain:function(t){var e=this[0],i=t[0];return e.contains(i)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(t){return n(this[0].querySelectorAll(t))},text:function(t){return t?this.forEach(function(e){e.innerHTML=t}):this[0].innerHTML.replace(/<.*?>/g,function(){return""})},html:function(t){var e=this[0];return null==t?e.innerHTML:(e.innerHTML=t,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach(function(t){t.focus()})},parent:function(){return n(this[0].parentElement)},parentUntil:function(t,e){var i=document.querySelectorAll(t),o=i.length;if(!o)return null;var r=e||this[0];if("BODY"===r.nodeName)return null;var a=r.parentElement,s=void 0;for(s=0;s<o;s++)if(a===i[s])return n(a);return this.parentUntil(t,a)},equal:function(t){return 1===t.nodeType?this[0]===t:this[0]===t[0]},insertBefore:function(t){var e=n(t)[0];return e?this.forEach(function(t){e.parentNode.insertBefore(t,e)}):this},insertAfter:function(t){var e=n(t)[0];return e?this.forEach(function(t){var i=e.parentNode;i.lastChild===e?i.appendChild(t):i.insertBefore(t,e.nextSibling)}):this}},n.offAll=function(){e.forEach(function(t){var e=t.elem,i=t.type,n=t.fn;e.removeEventListener(i,n)})};var o={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["宋体","微软雅黑","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"默认",type:"image",content:[{alt:"[坏笑]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[舔屏]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[污]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"新浪",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[草泥马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[神马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[浮云]"}]},{title:"emoji",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(t,e){return!0},linkImgCheck:function(t){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(t){return t},showLinkImg:!0,linkImgCallback:function(t){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(t,e,i){},success:function(t,e,i){},fail:function(t,e,i){},error:function(t,e){},timeout:function(t,e){}},qiniu:!1},r={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function a(t,e){var i=void 0;for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(t,i,t[i]))break}function s(t,e){var i=void 0,n=void 0,o=t.length||0;for(i=0;i<o&&(n=t[i],!1!==e.call(t,n,i));i++);}function c(t){return t+Math.random().toString().slice(2)}function l(t){return null==t?"":t.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function u(t){return"function"==typeof t}function d(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}d.prototype={constructor:d,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("bold"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("bold")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var h=function(t,e){var i=e;return(t.config.langArgs||[]).forEach(function(t){var e=t.reg,n=t.val;e.test(i)&&(i=i.replace(e,function(){return n}))}),i},p=function(){};function A(t,e){var i=this,o=t.editor;this.menu=t,this.opt=e;var r=n('<div class="w-e-droplist"></div>'),a=e.$title,s=void 0;a&&(s=a.html(),s=h(o,s),a.html(s),a.addClass("w-e-dp-title"),r.append(a));var c=e.list||[],l=e.type||"list",u=e.onClick||p,d=n('<ul class="'+("list"===l?"w-e-list":"w-e-block")+'"></ul>');r.append(d),c.forEach(function(t){var e=t.$elem,r=e.html();r=h(o,r),e.html(r);var a=t.value,s=n('<li class="w-e-item"></li>');e&&(s.append(e),d.append(s),s.on("click",function(t){u(a),i.hideTimeoutId=setTimeout(function(){i.hide()},0)}))}),r.on("mouseleave",function(t){i.hideTimeoutId=setTimeout(function(){i.hide()},0)}),this.$container=r,this._rendered=!1,this._show=!1}function f(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:100,$title:n("<p>设置标题</p>"),type:"list",list:[{$elem:n("<h1>H1</h1>"),value:"<h1>"},{$elem:n("<h2>H2</h2>"),value:"<h2>"},{$elem:n("<h3>H3</h3>"),value:"<h3>"},{$elem:n("<h4>H4</h4>"),value:"<h4>"},{$elem:n("<h5>H5</h5>"),value:"<h5>"},{$elem:n("<p>正文</p>"),value:"<p>"}],onClick:function(t){e._command(t)}})}function g(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:160,$title:n("<p>字号</p>"),type:"list",list:[{$elem:n('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:n('<span style="font-size: small;">small</span>'),value:"2"},{$elem:n("<span>normal</span>"),value:"3"},{$elem:n('<span style="font-size: large;">large</span>'),value:"4"},{$elem:n('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:n('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(t){e._command(t)}})}function m(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var i=t.config.fontNames||[];this.droplist=new A(this,{width:100,$title:n("<p>字体</p>"),type:"list",list:i.map(function(t){return{$elem:n('<span style="font-family: '+t+';">'+t+"</span>"),value:t}}),onClick:function(t){e._command(t)}})}A.prototype={constructor:A,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var t=this.menu.$elem,e=this.$container;if(!this._show){if(this._rendered)e.show();else{var i=t.getSizeData().height||0,n=this.opt.width||100;e.css("margin-top",i+"px").css("width",n+"px"),t.append(e),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var t=this.$container;this._show&&(t.hide(),this._show=!1)}},f.prototype={constructor:f,_command:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem();e.$textElem.equal(i)||e.cmd.do("formatBlock",t)},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.cmd.queryCommandValue("formatBlock");/^h/i.test(n)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},g.prototype={constructor:g,_command:function(t){this.editor.cmd.do("fontSize",t)}},m.prototype={constructor:m,_command:function(t){this.editor.cmd.do("fontName",t)}};var v=function(){},w=[];function b(t,e){this.menu=t,this.opt=e}function x(t){this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function C(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function y(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function E(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function I(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function B(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function S(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:120,$title:n("<p>设置列表</p>"),type:"list",list:[{$elem:n('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:n('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(t){e._command(t)}})}function _(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new A(this,{width:100,$title:n("<p>对齐方式</p>"),type:"list",list:[{$elem:n('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:n('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:n('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(t){e._command(t)}})}function M(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var i=t.config.colors||[];this._active=!1,this.droplist=new A(this,{width:120,$title:n("<p>文字颜色</p>"),type:"inline-block",list:i.map(function(t){return{$elem:n('<i style="color:'+t+';" class="w-e-icon-pencil2"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function k(t){var e=this;this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var i=t.config.colors||[];this._active=!1,this.droplist=new A(this,{width:120,$title:n("<p>背景色</p>"),type:"inline-block",list:i.map(function(t){return{$elem:n('<i style="color:'+t+';" class="w-e-icon-paint-brush"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function F(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function D(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function T(t){this.editor=t,this.$elem=n('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function N(t){this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function Q(t){this.editor=t,this.$elem=n('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function P(t){this.editor=t;var e=c("w-e-img");this.$elem=n('<div class="w-e-menu" id="'+e+'"><i class="w-e-icon-image"></i></div>'),t.imgMenuId=e,this.type="panel",this._active=!1}b.prototype={constructor:b,show:function(){var t=this,e=this.menu;if(!(w.indexOf(e)>=0)){var i=e.editor,o=n("body"),r=i.$textContainerElem,a=this.opt,s=n('<div class="w-e-panel-container"></div>'),c=a.width||300;s.css("width",c+"px").css("margin-left",(0-c)/2+"px");var l=n('<i class="w-e-icon-close w-e-panel-close"></i>');s.append(l),l.on("click",function(){t.hide()});var u=n('<ul class="w-e-panel-tab-title"></ul>'),d=n('<div class="w-e-panel-tab-content"></div>');s.append(u).append(d);var p=a.height;p&&d.css("height",p+"px").css("overflow-y","auto");var A=a.tabs||[],f=[],g=[];A.forEach(function(t,e){if(t){var o=t.title||"",r=t.tpl||"";o=h(i,o),r=h(i,r);var a=n('<li class="w-e-item">'+o+"</li>");u.append(a);var s=n(r);d.append(s),a._index=e,f.push(a),g.push(s),0===e?(a._active=!0,a.addClass("w-e-active")):s.hide(),a.on("click",function(t){a._active||(f.forEach(function(t){t._active=!1,t.removeClass("w-e-active")}),g.forEach(function(t){t.hide()}),a._active=!0,a.addClass("w-e-active"),s.show())})}}),s.on("click",function(t){t.stopPropagation()}),o.on("click",function(e){t.hide()}),r.append(s),A.forEach(function(e,i){e&&(e.events||[]).forEach(function(e){var n=e.selector,o=e.type,r=e.fn||v;g[i].find(n).on(o,function(e){e.stopPropagation(),r(e)&&t.hide()})})});var m=s.find("input[type=text],textarea");m.length&&m.get(0).focus(),this.$container=s,this._hideOtherPanels(),w.push(e)}},hide:function(){var t=this.menu,e=this.$container;e&&e.remove(),w=w.filter(function(e){return e!==t})},_hideOtherPanels:function(){w.length&&w.forEach(function(t){var e=t.panel||{};e.hide&&e.hide()})}},x.prototype={constructor:x,onClick:function(t){var e=this.editor,i=void 0;if(this._active){if(!(i=e.selection.getSelectionContainerElem()))return;e.selection.createRangeByElem(i),e.selection.restoreSelection(),this._createPanel(i.text(),i.attr("href"))}else e.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(e.selection.getSelectionText(),"")},_createPanel:function(t,e){var i=this,o=c("input-link"),r=c("input-text"),a=c("btn-ok"),s=c("btn-del"),l=this._active?"inline-block":"none",u=new b(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                            <input id="'+r+'" type="text" class="block" value="'+t+'" placeholder="链接文字"/></td>\n                            <input id="'+o+'" type="text" class="block" value="'+e+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+a+'" class="right">插入</button>\n                                <button id="'+s+'" class="gray right" style="display:'+l+'">删除链接</button>\n                            </div>\n                        </div>',events:[{selector:"#"+a,type:"click",fn:function(){var t=n("#"+o),e=n("#"+r),a=t.val(),s=e.val();return i._insertLink(s,a),!0}},{selector:"#"+s,type:"click",fn:function(){return i._delLink(),!0}}]}]});u.show(),this.panel=u},_delLink:function(){if(this._active){var t=this.editor;if(t.selection.getSelectionContainerElem()){var e=t.selection.getSelectionText();t.cmd.do("insertHTML","<span>"+e+"</span>")}}},_insertLink:function(t,e){var i=this.editor,n=i.config.linkCheck,o=!0;n&&"function"==typeof n&&(o=n(t,e)),!0===o?i.cmd.do("insertHTML",'<a href="'+e+'" target="_blank">'+t+"</a>"):alert(o)},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.selection.getSelectionContainerElem();n&&("A"===n.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active")))}},C.prototype={constructor:C,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("italic"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("italic")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},y.prototype={constructor:y,onClick:function(t){this.editor.cmd.do("redo")}},E.prototype={constructor:E,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("strikeThrough"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("strikeThrough")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},I.prototype={constructor:I,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("underline"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("underline")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},B.prototype={constructor:B,onClick:function(t){this.editor.cmd.do("undo")}},S.prototype={constructor:S,_command:function(t){var e=this.editor,i=e.$textElem;if(e.selection.restoreSelection(),!e.cmd.queryCommandState(t)){e.cmd.do(t);var n=e.selection.getSelectionContainerElem();if("LI"===n.getNodeName()&&(n=n.parent()),!1!==/^ol|ul$/i.test(n.getNodeName())&&!n.equal(i)){var o=n.parent();o.equal(i)||(n.insertAfter(o),o.remove())}}},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("insertUnOrderedList")||e.cmd.queryCommandState("insertOrderedList")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},_.prototype={constructor:_,_command:function(t){this.editor.cmd.do(t)}},M.prototype={constructor:M,_command:function(t){this.editor.cmd.do("foreColor",t)}},k.prototype={constructor:k,_command:function(t){this.editor.cmd.do("backColor",t)}},F.prototype={constructor:F,onClick:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem(),o=i.getNodeName();if(r.isIE()){if("P"===o)return n("<blockquote>"+i.text()+"</blockquote>").insertAfter(i),void i.remove();"BLOCKQUOTE"===o&&(n("<p>"+i.text()+"</p>").insertAfter(i),i.remove())}else"BLOCKQUOTE"===o?e.cmd.do("formatBlock","<P>"):e.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.cmd.queryCommandValue("formatBlock");/^BLOCKQUOTE$/i.test(n)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},D.prototype={constructor:D,onClick:function(t){var e=this.editor,i=e.selection.getSelectionStartElem(),o=e.selection.getSelectionEndElem(),r=e.selection.isSelectionEmpty(),a=e.selection.getSelectionText(),s=void 0;if(i.equal(o))return r?void(this._active?this._createPanel(i.html()):this._createPanel()):(s=n("<code>"+a+"</code>"),e.cmd.do("insertElem",s),e.selection.createRangeByElem(s,!1),void e.selection.restoreSelection());e.selection.restoreSelection()},_createPanel:function(t){var e=this,i=(t=t||"")?"edit":"new",o=c("texxt"),r=c("btn"),a=new b(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n                        <textarea id="'+o+'" style="height:145px;;">'+t+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+r+'" class="right">插入</button>\n                        </div>\n                    <div>',events:[{selector:"#"+r,type:"click",fn:function(){var t=n("#"+o),r=t.val()||t.html();return r=l(r),"new"===i?e._insertCode(r):e._updateCode(r),!0}}]}]});a.show(),this.panel=a},_insertCode:function(t){this.editor.cmd.do("insertHTML","<pre><code>"+t+"</code></pre><p><br></p>")},_updateCode:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem();i&&(i.html(t),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.selection.getSelectionContainerElem();if(n){var o=n.parent();"CODE"===n.getNodeName()&&"PRE"===o.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},T.prototype={constructor:T,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=[];(this.editor.config.emotions||[]).forEach(function(i){var o=i.type,r=i.content||[],a="";"emoji"===o&&r.forEach(function(t){t&&(a+='<span class="w-e-item">'+t+"</span>")}),"image"===o&&r.forEach(function(t){var e=t.src,i=t.alt;e&&(a+='<span class="w-e-item"><img src="'+e+'" alt="'+i+'" data-w-e="1"/></span>')}),e.push({title:i.title,tpl:'<div class="w-e-emoticon-container">'+a+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(e){var i=n(e.target),o=void 0;return o="IMG"===i.getNodeName()?i.parent().html():"<span>"+i.html()+"</span>",t._insert(o),!0}}]})});var i=new b(this,{width:300,height:200,tabs:e});i.show(),this.panel=i},_insert:function(t){this.editor.cmd.do("insertHTML",t)}},N.prototype={constructor:N,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var t=this,e=c("btn"),i=c("row"),o=c("col"),r=new b(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'+i+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="'+o+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+e+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=parseInt(n("#"+i).val()),r=parseInt(n("#"+o).val());return e&&r&&e>0&&r>0&&t._insert(e,r),!0}}]}]});r.show(),this.panel=r},_insert:function(t,e){var i=void 0,n=void 0,o='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(i=0;i<t;i++){if(o+="<tr>",0===i)for(n=0;n<e;n++)o+="<th>&nbsp;</th>";else for(n=0;n<e;n++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</table><p><br></p>";var r=this.editor;r.cmd.do("insertHTML",o),r.cmd.do("enableObjectResizing",!1),r.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var t=this,e=c("add-row"),i=c("add-col"),n=c("del-row"),o=c("del-col"),r=c("del-table");new b(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+e+'" class="left">增加行</button>\n                            <button id="'+n+'" class="red left">删除行</button>\n                            <button id="'+i+'" class="left">增加列</button>\n                            <button id="'+o+'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+r+'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){return t._addRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return t._addCol(),!0}},{selector:"#"+n,type:"click",fn:function(){return t._delRow(),!0}},{selector:"#"+o,type:"click",fn:function(){return t._delCol(),!0}},{selector:"#"+r,type:"click",fn:function(){return t._delTable(),!0}}]}]}).show()},_getLocationData:function(){var t={},e=this.editor.selection.getSelectionContainerElem();if(e){var i=e.getNodeName();if("TD"===i||"TH"===i){var n=e.parent(),o=n.children(),r=o.length;o.forEach(function(i,n){if(i===e[0])return t.td={index:n,elem:i,length:r},!1});var a=n.parent().children(),s=a.length;return a.forEach(function(e,i){if(e===n[0])return t.tr={index:i,elem:e,length:s},!1}),t}}},_addRow:function(){var t=this._getLocationData();if(t){var e=n(t.tr.elem),i=t.td.length,o=document.createElement("tr"),r="",a=void 0;for(a=0;a<i;a++)r+="<td>&nbsp;</td>";o.innerHTML=r,n(o).insertAfter(e)}},_addCol:function(){var t=this._getLocationData();if(t){var e=t.tr,i=t.td.index;n(e.elem).parent().children().forEach(function(t){var e=n(t).children().get(i),o=e.getNodeName().toLowerCase();n(document.createElement(o)).insertAfter(e)})}},_delRow:function(){var t=this._getLocationData();t&&n(t.tr.elem).remove()},_delCol:function(){var t=this._getLocationData();if(t){var e=t.tr,i=t.td.index;n(e.elem).parent().children().forEach(function(t){n(t).children().get(i).remove()})}},_delTable:function(){var t=this.editor.selection.getSelectionContainerElem();if(t){var e=t.parentUntil("table");e&&e.remove()}},tryChangeActive:function(t){var e=this.editor,i=this.$elem,n=e.selection.getSelectionContainerElem();if(n){var o=n.getNodeName();"TD"===o||"TH"===o?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},Q.prototype={constructor:Q,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=c("text-val"),i=c("btn"),o=new b(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                        <input id="'+e+'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+i+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+i,type:"click",fn:function(){var i=n("#"+e).val().trim();return i&&t._insert(i),!0}}]}]});o.show(),this.panel=o},_insert:function(t){this.editor.cmd.do("insertHTML",t+"<p><br></p>")}},P.prototype={constructor:P,onClick:function(){this.editor.config.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var t=this.editor,e=c("width-30"),i=c("width-50"),n=c("width-100"),o=c("del-btn"),r=new b(this,{width:300,tabs:[{title:"编辑图片",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                        <button id="'+e+'" class="left">30%</button>\n                        <button id="'+i+'" class="left">50%</button>\n                        <button id="'+n+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+o+'" class="gray left">删除图片</button>\n                    </dv>\n                </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","30%"),!0}},{selector:"#"+i,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","50%"),!0}},{selector:"#"+n,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","100%"),!0}},{selector:"#"+o,type:"click",fn:function(){var e=t._selectedImg;return e&&e.remove(),!0}}]}]});r.show(),this.panel=r},_createInsertPanel:function(){var t=this.editor,e=t.uploadImg,i=t.config,o=c("up-trigger"),r=c("up-file"),a=c("link-url"),s=c("link-btn"),l=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+o+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+r+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+o,type:"click",fn:function(){var t=n("#"+r)[0];if(!t)return!0;t.click()}},{selector:"#"+r,type:"change",fn:function(){var t=n("#"+r)[0];if(!t)return!0;var i=t.files;return i.length&&e.uploadImg(i),!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'+a+'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+s+'" class="right">插入</button>\n                    </div>\n                </div>',events:[{selector:"#"+s,type:"click",fn:function(){var t=n("#"+a).val().trim();return t&&e.insertLinkImg(t),!0}}]}],u=[];(i.uploadImgShowBase64||i.uploadImgServer||i.customUploadImg)&&window.FileReader&&u.push(l[0]),i.showLinkImg&&u.push(l[1]);var d=new b(this,{width:300,tabs:u});d.show(),this.panel=d},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e._selectedImg?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var Y={};function R(t){this.editor=t,this.menus={}}function L(t){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return l(null==e?window.clipboardData&&window.clipboardData.getData("text"):e.getData("text/plain"))}function O(t){this.editor=t}function U(t){this.editor=t}function H(t){this.editor=t,this._currentRange=null}function G(t){this.editor=t,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=t.$textContainerElem,this.$bar=n('<div class="w-e-progress"></div>')}Y.bold=d,Y.head=f,Y.fontSize=g,Y.fontName=m,Y.link=x,Y.italic=C,Y.redo=y,Y.strikeThrough=E,Y.underline=I,Y.undo=B,Y.list=S,Y.justify=_,Y.foreColor=M,Y.backColor=k,Y.quote=F,Y.code=D,Y.emoticon=T,Y.table=N,Y.video=Q,Y.image=P,R.prototype={constructor:R,init:function(){var t=this,e=this.editor;((e.config||{}).menus||[]).forEach(function(i){var n=Y[i];n&&"function"==typeof n&&(t.menus[i]=new n(e))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var t=this.editor,e=t.$toolbarElem,i=this.menus,n=t.config.zIndex+1;a(i,function(t,i){var o=i.$elem;o&&(o.css("z-index",n),e.append(o))})},_bindEvent:function(){var t=this.menus,e=this.editor;a(t,function(t,i){var n=i.type;if(n){var o=i.$elem,r=i.droplist;i.panel;"click"===n&&i.onClick&&o.on("click",function(t){null!=e.selection.getRange()&&i.onClick(t)}),"droplist"===n&&r&&o.on("mouseenter",function(t){null!=e.selection.getRange()&&(r.showTimeoutId=setTimeout(function(){r.show()},200))}).on("mouseleave",function(t){r.hideTimeoutId=setTimeout(function(){r.hide()},0)}),"panel"===n&&i.onClick&&o.on("click",function(t){t.stopPropagation(),null!=e.selection.getRange()&&i.onClick(t)})}})},changeActive:function(){a(this.menus,function(t,e){e.tryChangeActive&&setTimeout(function(){e.tryChangeActive()},100)})}},O.prototype={constructor:O,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(t){var e=this.editor,i=e.$textElem,n=void 0;if(null==t)return n=i.html(),n=n.replace(/\u200b/gm,""),n;i.html(t),e.initSelection()},getJSON:function(){return function t(e){var i=[];return(e.childNodes()||[]).forEach(function(e){var o=void 0,r=e.nodeType;if(3===r&&(o=l(o=e.textContent)),1===r){(o={}).tag=e.nodeName.toLowerCase();for(var a=[],s=e.attributes||{},c=s.length||0,u=0;u<c;u++){var d=s[u];a.push({name:d.name,value:d.value})}o.attrs=a,o.children=t(n(e))}i.push(o)}),i}(this.editor.$textElem)},text:function(t){var e=this.editor,i=e.$textElem,n=void 0;if(null==t)return n=i.text(),n=n.replace(/\u200b/gm,""),n;i.text("<p>"+t+"</p>"),e.initSelection()},append:function(t){var e=this.editor;e.$textElem.append(n(t)),e.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var t=this.editor,e=t.$textElem;function i(e){t.selection.saveRange(),t.menus.changeActive()}e.on("keyup",i),e.on("mousedown",function(t){e.on("mouseleave",i)}),e.on("mouseup",function(t){i(),e.off("mouseleave",i)})},_enterKeyHandle:function(){var t=this.editor,e=t.$textElem;function i(e){var i=n("<p><br></p>");i.insertBefore(e),t.selection.createRangeByElem(i,!0),t.selection.restoreSelection(),e.remove()}e.on("keyup",function(n){var o,r;13===n.keyCode&&(o=t.selection.getSelectionContainerElem(),"<code><br></code>"!==(r=o.parent()).html()?r.equal(e)&&"P"!==o.getNodeName()&&(o.text()||i(o)):i(o))}),e.on("keydown",function(e){13===e.keyCode?function(e){var i=t.selection.getSelectionContainerElem();if(i){var o=i.parent(),r=i.getNodeName(),a=o.getNodeName();if("CODE"===r&&"PRE"===a&&t.cmd.queryCommandSupported("insertHTML")){if(!0===t._willBreakCode){var s=n("<p><br></p>");return s.insertAfter(o),t.selection.createRangeByElem(s,!0),t.selection.restoreSelection(),t._willBreakCode=!1,void e.preventDefault()}var c=t.selection.getRange().startOffset;t.cmd.do("insertHTML","\n"),t.selection.saveRange(),t.selection.getRange().startOffset===c&&t.cmd.do("insertHTML","\n");var l=i.html().length;t.selection.getRange().startOffset+1===l&&(t._willBreakCode=!0),e.preventDefault()}}}(e):t._willBreakCode=!1})},_clearHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(t){8===t.keyCode&&("<p><br></p>"!==e.html().toLowerCase().trim()||t.preventDefault())}),e.on("keyup",function(i){if(8===i.keyCode){var o=void 0,r=e.html().toLowerCase().trim();r&&"<br>"!==r||(o=n("<p><br/></p>"),e.html(""),e.append(o),t.selection.createRangeByElem(o,!1,!0),t.selection.restoreSelection())}})},_pasteHandle:function(){var t=this.editor,e=t.config,i=e.pasteFilterStyle,n=e.pasteTextHandle,o=e.pasteIgnoreImg,s=t.$textElem,c=0;function d(){var t=Date.now(),e=!1;return t-c>=100&&(e=!0),c=t,e}s.on("paste",function(e){if(!r.isIE()&&(e.preventDefault(),d())){var a=function(t,e,i){var n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,o=void 0,r=void 0;if(null==n?o=window.clipboardData&&window.clipboardData.getData("text"):(o=n.getData("text/plain"),r=n.getData("text/html")),!r&&o&&(r="<p>"+l(o)+"</p>"),r){var a=r.split("</html>");return 2===a.length&&(r=a[0]),r=(r=(r=r.replace(/<(meta|script|link).+?>/gim,"")).replace(/<!--.*?-->/gm,"")).replace(/\s?data-.+?=('|").+?('|")/gim,""),i&&(r=r.replace(/<img.+?>/gim,"")),r=e?r.replace(/\s?(class|style)=('|").*?('|")/gim,""):r.replace(/\s?class=('|").*?('|")/gim,"")}}(e,i,o),s=L(e);s=s.replace(/\n/gm,"<br>");var h=t.selection.getSelectionContainerElem();if(h){var p=h.getNodeName();if("CODE"===p||"PRE"===p)return n&&u(n)&&(s=""+(n(s)||"")),void t.cmd.do("insertHTML","<p>"+s+"</p>");if(a)try{n&&u(n)&&(a=""+(n(a)||"")),t.cmd.do("insertHTML",a)}catch(e){n&&u(n)&&(s=""+(n(s)||"")),t.cmd.do("insertHTML","<p>"+s+"</p>")}else c=0}}}),s.on("paste",function(e){if(!r.isIE()&&(e.preventDefault(),d())){var i=function(t){var e=[];if(L(t))return e;var i=(t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData||{}).items;return i?(a(i,function(t,i){var n=i.type;/image/i.test(n)&&e.push(i.getAsFile())}),e):e}(e);if(i&&i.length){var n=t.selection.getSelectionContainerElem();if(n){var o=n.getNodeName();if("CODE"!==o&&"PRE"!==o)t.uploadImg.uploadImg(i)}}}})},_tabHandle:function(){var t=this.editor;t.$textElem.on("keydown",function(e){if(9===e.keyCode&&t.cmd.queryCommandSupported("insertHTML")){var i=t.selection.getSelectionContainerElem();if(i){var n=i.parent(),o=i.getNodeName(),r=n.getNodeName();"CODE"===o&&"PRE"===r?t.cmd.do("insertHTML","    "):t.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),e.preventDefault()}}})},_imgHandle:function(){var t=this.editor,e=t.$textElem;e.on("click","img",function(e){var i=n(this);"1"!==i.attr("data-w-e")&&(t._selectedImg=i,t.selection.createRangeByElem(i),t.selection.restoreSelection())}),e.on("click  keyup",function(e){e.target.matches("img")||(t._selectedImg=null)})},_dragHandle:function(){var t=this.editor;n(document).on("dragleave drop dragenter dragover",function(t){t.preventDefault()}),t.$textElem.on("drop",function(e){e.preventDefault();var i=e.dataTransfer&&e.dataTransfer.files;i&&i.length&&t.uploadImg.uploadImg(i)})}},U.prototype={constructor:U,do:function(t,e){var i=this.editor;if(i._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),i._useStyleWithCSS=!0),i.selection.getRange()){i.selection.restoreSelection();var n="_"+t;this[n]?this[n](e):this._execCommand(t,e),i.menus.changeActive(),i.selection.saveRange(),i.selection.restoreSelection(),i.change&&i.change()}},_insertHTML:function(t){var e=this.editor.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",t):e.insertNode?(e.deleteContents(),e.insertNode(n(t)[0])):e.pasteHTML&&e.pasteHTML(t)},_insertElem:function(t){var e=this.editor.selection.getRange();e.insertNode&&(e.deleteContents(),e.insertNode(t[0]))},_execCommand:function(t,e){document.execCommand(t,!1,e)},queryCommandValue:function(t){return document.queryCommandValue(t)},queryCommandState:function(t){return document.queryCommandState(t)},queryCommandSupported:function(t){return document.queryCommandSupported(t)}},H.prototype={constructor:H,getRange:function(){return this._currentRange},saveRange:function(t){if(t)this._currentRange=t;else{var e=window.getSelection();if(0!==e.rangeCount){var i=e.getRangeAt(0),n=this.getSelectionContainerElem(i);if(n)if("false"!==n.attr("contenteditable")&&!n.parentUntil("[contenteditable=false]"))this.editor.$textElem.isContain(n)&&(this._currentRange=i)}}},collapseRange:function(t){null==t&&(t=!1);var e=this._currentRange;e&&e.collapse(t)},getSelectionText:function(){return this._currentRange?this._currentRange.toString():""},getSelectionContainerElem:function(t){var e=void 0;if(t=t||this._currentRange)return n(1===(e=t.commonAncestorContainer).nodeType?e:e.parentNode)},getSelectionStartElem:function(t){var e=void 0;if(t=t||this._currentRange)return n(1===(e=t.startContainer).nodeType?e:e.parentNode)},getSelectionEndElem:function(t){var e=void 0;if(t=t||this._currentRange)return n(1===(e=t.endContainer).nodeType?e:e.parentNode)},isSelectionEmpty:function(){var t=this._currentRange;return!(!t||!t.startContainer||t.startContainer!==t.endContainer||t.startOffset!==t.endOffset)},restoreSelection:function(){var t=window.getSelection();t.removeAllRanges(),t.addRange(this._currentRange)},createEmptyRange:function(){var t=this.editor,e=this.getRange(),i=void 0;if(e&&this.isSelectionEmpty())try{r.isWebkit()?(t.cmd.do("insertHTML","&#8203;"),e.setEnd(e.endContainer,e.endOffset+1),this.saveRange(e)):(i=n("<strong>&#8203;</strong>"),t.cmd.do("insertElem",i),this.createRangeByElem(i,!0))}catch(t){}},createRangeByElem:function(t,e,i){if(t.length){var n=t[0],o=document.createRange();i?o.selectNodeContents(n):o.selectNode(n),"boolean"==typeof e&&o.collapse(e),this.saveRange(o)}}},G.prototype={constructor:G,show:function(t){var e=this;if(!this._isShow){this._isShow=!0;var i=this.$bar;if(this._isRender)this._isRender=!0;else this.$textContainer.append(i);Date.now()-this._time>100&&t<=1&&(i.css("width",100*t+"%"),this._time=Date.now());var n=this._timeoutId;n&&clearTimeout(n),n=setTimeout(function(){e._hide()},500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function j(t){this.editor=t}j.prototype={constructor:j,_alert:function(t,e){var i=this.editor,n=i.config.debug,o=i.config.customAlert;if(n)throw new Error("wangEditor: "+(e||t));o&&"function"==typeof o?o(t):alert(t)},insertLinkImg:function(t){var e=this;if(t){var i=this.editor,n=i.config,o=n.linkImgCheck,r=void 0;if(o&&"function"==typeof o&&"string"==typeof(r=o(t)))alert(r);else{i.cmd.do("insertHTML",'<img src="'+t+'" style="max-width:100%;"/>');var a=document.createElement("img");a.onload=function(){var e=n.linkImgCallback;e&&"function"==typeof e&&e(t),a=null},a.onerror=function(){a=null,e._alert("插入图片错误",'wangEditor: 插入图片出错，图片链接是 "'+t+'"，下载该链接失败')},a.onabort=function(){a=null},a.src=t}}},uploadImg:function(t){var e=this;if(t&&t.length){var i=this.editor,n=i.config,o=n.uploadImgServer,r=n.uploadImgShowBase64,c=n.uploadImgMaxSize,l=c/1024/1024,u=n.uploadImgMaxLength||1e4,d=n.uploadFileName||"",h=n.uploadImgParams||{},p=n.uploadImgParamsWithUrl,A=n.uploadImgHeaders||{},f=n.uploadImgHooks||{},g=n.uploadImgTimeout||3e3,m=n.withCredentials;null==m&&(m=!1);var v=n.customUploadImg;if(v||o||r){var w=[],b=[];if(s(t,function(t){var e=t.name,i=t.size;e&&i&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(e)?c<i?b.push("【"+e+"】大于 "+l+"M"):w.push(t):b.push("【"+e+"】不是图片"))}),b.length)this._alert("图片验证未通过: \n"+b.join("\n"));else if(w.length>u)this._alert("一次最多上传"+u+"张图片");else if(v&&"function"==typeof v)v(w,this.insertLinkImg.bind(this));else{var x=new FormData;if(s(w,function(t){var e=d||t.name;x.append(e,t)}),o&&"string"==typeof o){var C=o.split("#");o=C[0];var y=C[1]||"";a(h,function(t,e){p&&(o.indexOf("?")>0?o+="&":o+="?",o=o+t+"="+e),x.append(t,e)}),y&&(o+="#"+y);var E=new XMLHttpRequest;if(E.open("POST",o),E.timeout=g,E.ontimeout=function(){f.timeout&&"function"==typeof f.timeout&&f.timeout(E,i),e._alert("上传图片超时")},E.upload&&(E.upload.onprogress=function(t){var e=void 0,n=new G(i);t.lengthComputable&&(e=t.loaded/t.total,n.show(e))}),E.onreadystatechange=function(){var t=void 0;if(4===E.readyState){if(E.status<200||E.status>=300)return f.error&&"function"==typeof f.error&&f.error(E,i),void e._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 "+E.status);if("object"!==(void 0===(t=E.responseText)?"undefined":z(t)))try{t=JSON.parse(t)}catch(n){return f.fail&&"function"==typeof f.fail&&f.fail(E,i,t),void e._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+t)}if(f.customInsert||"0"==t.errno){if(f.customInsert&&"function"==typeof f.customInsert)f.customInsert(e.insertLinkImg.bind(e),t,i);else(t.data||[]).forEach(function(t){e.insertLinkImg(t)});f.success&&"function"==typeof f.success&&f.success(E,i,t)}else f.fail&&"function"==typeof f.fail&&f.fail(E,i,t),e._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+t.errno)}},f.before&&"function"==typeof f.before){var I=f.before(E,i,w);if(I&&"object"===(void 0===I?"undefined":z(I))&&I.prevent)return void this._alert(I.msg)}return a(A,function(t,e){E.setRequestHeader(t,e)}),E.withCredentials=m,void E.send(x)}r&&s(t,function(t){var i=e,n=new FileReader;n.readAsDataURL(t),n.onload=function(){i.insertLinkImg(this.result)}})}}}}};var X=1;function W(t,e){if(null==t)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+X++,this.toolbarSelector=t,this.textSelector=e,this.customConfig={}}W.prototype={constructor:W,_initConfig:function(){this.config=Object.assign({},o,this.customConfig);var t=[];a(this.config.lang||{},function(e,i){t.push({reg:new RegExp(e,"img"),val:i})}),this.config.langArgs=t},_initDom:function(){var t=this,e=n(this.toolbarSelector),i=this.textSelector,o=this.config,r=o.zIndex,a=void 0,s=void 0,l=void 0,u=void 0;null==i?(a=n("<div></div>"),s=n("<div></div>"),u=e.children(),e.append(a).append(s),a.css("background-color","#f1f1f1").css("border","1px solid #ccc"),s.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(a=e,u=(s=n(i)).children()),(l=n("<div></div>")).attr("contenteditable","true").css("width","100%").css("height","100%"),u&&u.length?l.append(u):l.append(n("<p><br></p>")),s.append(l),a.addClass("w-e-toolbar"),s.addClass("w-e-text-container"),s.css("z-index",r),l.addClass("w-e-text");var d=c("toolbar-elem");a.attr("id",d);var h=c("text-elem");l.attr("id",h),this.$toolbarElem=a,this.$textContainerElem=s,this.$textElem=l,this.toolbarElemId=d,this.textElemId=h;var p=!0;s.on("compositionstart",function(){p=!1}),s.on("compositionend",function(){p=!0}),s.on("click keyup",function(){p&&t.change&&t.change()}),a.on("click",function(){this.change&&this.change()}),(o.onfocus||o.onblur)&&(this.isFocus=!1,n(document).on("click",function(e){var i=l.isContain(n(e.target)),o=a.isContain(n(e.target)),r=a[0]==e.target;if(i)t.isFocus||t.onfocus&&t.onfocus(),t.isFocus=!0;else{if(o&&!r)return;t.isFocus&&t.onblur&&t.onblur(),t.isFocus=!1}}))},_initCommand:function(){this.cmd=new U(this)},_initSelectionAPI:function(){this.selection=new H(this)},_initUploadImg:function(){this.uploadImg=new j(this)},_initMenus:function(){this.menus=new R(this),this.menus.init()},_initText:function(){this.txt=new O(this),this.txt.init()},initSelection:function(t){var e=this.$textElem,i=e.children();if(!i.length)return e.append(n("<p><br></p>")),void this.initSelection();var o=i.last();if(t){var r=o.html().toLowerCase(),a=o.getNodeName();if("<br>"!==r&&"<br/>"!==r||"P"!==a)return e.append(n("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(o,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var t=0,e=this.txt.html(),i=this.config,n=i.onchangeTimeout;(!(n=parseInt(n,10))||n<=0)&&(n=200);var o=i.onchange;o&&"function"==typeof o&&(this.change=function(){var i=this.txt.html();i.length===e.length&&i===e||(t&&clearTimeout(t),t=setTimeout(function(){o(i),e=i},n))});var r=i.onblur;r&&"function"==typeof r&&(this.onblur=function(){var t=this.txt.html();r(t)});var a=i.onfocus;a&&"function"==typeof a&&(this.onfocus=function(){a()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){n.offAll()}};try{document}catch(t){throw new Error("请在浏览器环境下运行")}"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1});var $=document.createElement("style");return $.type="text/css",$.innerHTML='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,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) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',document.getElementsByTagName("HEAD").item(0).appendChild($),window.wangEditor||W},t.exports=n()},F6iT:function(t,e,i){var o;o=function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(5));e.default={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:""}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:Number,default:0},autoCropHeight:{type:Number,default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3}},computed:{cropInfo:function(){var t={};if(t.top=this.cropOffsertY>21?"-21px":"0px",t.width=this.cropW>0?this.cropW:0,t.height=this.cropH>0?this.cropH:0,this.infoTrue){if(this.high&&!this.full){var e=window.devicePixelRatio;t.width=t.width*e,t.height=t.height*e}this.full&&(t.width=t.width/this.scale,t.height=t.height/this.scale)}return t.width=~~t.width,t.height=~~t.height,t}},watch:{img:function(){this.checkedImg()},imgs:function(t){""!==t&&this.reload()},cropW:function(){this.cropW=~~this.cropW,this.showPreview()},cropH:function(){this.cropH=~~this.cropH,this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(t,e){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(t){t&&this.goAutoCrop()},rotate:function(){this.showPreview(),this.autoCrop&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkOrientationImage:function(t,e,i,n){var o=this,r=document.createElement("canvas"),a=r.getContext("2d");switch(a.save(),e){case 2:r.width=i,r.height=n,a.translate(i,0),a.scale(-1,1);break;case 3:r.width=i,r.height=n,a.translate(i/2,n/2),a.rotate(180*Math.PI/180),a.translate(-i/2,-n/2);break;case 4:r.width=i,r.height=n,a.translate(0,n),a.scale(1,-1);break;case 5:r.height=i,r.width=n,a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:r.width=n,r.height=i,a.translate(n/2,i/2),a.rotate(90*Math.PI/180),a.translate(-i/2,-n/2);break;case 7:r.height=i,r.width=n,a.rotate(.5*Math.PI),a.translate(i,-n),a.scale(-1,1);break;case 8:r.height=i,r.width=n,a.translate(n/2,i/2),a.rotate(-90*Math.PI/180),a.translate(-i/2,-n/2);break;default:r.width=i,r.height=n}a.drawImage(t,0,0,i,n),a.restore(),r.toBlob(function(t){var e=URL.createObjectURL(t);o.imgs=e},"image/"+this.outputType,1)},checkedImg:function(){var t=this;if(""!==this.img){this.loading=!0,this.scale=1,this.clearCrop();var e=new Image;e.onload=function(){if(""===t.img)return t.$emit("imgLoad","error"),!1;var i=e.width,o=e.height;n.default.getData(e,function(){n.default.getAllTags(e),t.orientation=n.default.getTag(e,"Orientation");var r=t.maxImgSize;!t.orientation&&i<r&o<r?t.imgs=t.img:(i>r&&(o=o/i*r,i=r),o>r&&(i=i/o*r,o=r),t.checkOrientationImage(e,t.orientation,i,o))})},e.onerror=function(){t.$emit("imgLoad","error")},e.crossOrigin="*",e.src=this.img}},startMove:function(t){if(t.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(t.clientX?t.clientX:t.touches[0].clientX)-this.x,this.moveY=(t.clientY?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==t.touches.length&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=t.clientX?t.clientX:t.touches[0].clientX,this.cropY=t.clientY?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(t){var e=this;t.preventDefault();var i=this.scale,n=this.touches[0].clientX,o=this.touches[0].clientY,r=t.touches[0].clientX,a=t.touches[0].clientY,s=this.touches[1].clientX,c=this.touches[1].clientY,l=t.touches[1].clientX,u=t.touches[1].clientY,d=Math.sqrt(Math.pow(n-s,2)+Math.pow(o-c,2)),h=~~(Math.sqrt(Math.pow(r-l,2)+Math.pow(a-u,2))-d),p=1,A=(p=(p=p/this.trueWidth>p/this.trueHeight?p/this.trueHeight:p/this.trueWidth)>.1?.1:p)*h;if(!this.touchNow){if(this.touchNow=!0,h>0?i+=Math.abs(A):h<0&&i>Math.abs(A)&&(i-=Math.abs(A)),this.touches=t.touches,setTimeout(function(){e.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i}},cancleTouchScale:function(t){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(t){var e=this;if(t.preventDefault(),t.touches&&2===t.touches.length)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var i=t.clientX?t.clientX:t.touches[0].clientX,n=t.clientY?t.clientY:t.touches[0].clientY,o=void 0,r=void 0;o=~~(i-this.moveX),r=~~(n-this.moveY),this.$nextTick(function(){if(e.centerBox){var t=e.getImgAxis(o,r,e.scale),i=e.getCropAxis(),n=e.trueHeight*e.scale,a=e.trueWidth*e.scale,s=void 0,c=void 0,l=void 0,u=void 0;switch(e.rotate){case 1:case-1:case 3:case-3:s=e.cropOffsertX-e.trueWidth*(1-e.scale)/2+(n-a)/2,c=e.cropOffsertY-e.trueHeight*(1-e.scale)/2+(a-n)/2,l=s-n+e.cropW,u=c-a+e.cropH;break;default:s=e.cropOffsertX-e.trueWidth*(1-e.scale)/2,c=e.cropOffsertY-e.trueHeight*(1-e.scale)/2,l=s-a+e.cropW,u=c-n+e.cropH}t.x1>i.x1&&(o=s-1),t.y1>=i.y1&&(r=c),t.x2<=i.x2&&(o=l),t.y2<=i.y2&&(r=u+1)}e.x=o,e.y=r,e.$emit("imgMoving",{moving:!0,axis:e.getImgAxis()})})},leaveImg:function(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",this.canScale&&window.addEventListener(this.support,this.changeSize)},cancleScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(t){var e=this;t.preventDefault();var i=this.scale,n=t.deltaY||t.wheelDelta;n=navigator.userAgent.indexOf("Firefox")>0?30*n:n;var o=this.coe,r=(o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth)*n;r<0?i+=Math.abs(r):i>Math.abs(r)&&(i-=Math.abs(r));var a=r<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(function(){e.scaling=!1,e.coe=e.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i},changeScale:function(t){var e=this.scale;t=t||1;var i=20;if((t*=i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)>0?e+=Math.abs(t):e>Math.abs(t)&&(e-=Math.abs(t)),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},createCrop:function(t){var e=this;t.preventDefault();var i=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,n=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick(function(){var t=~~(i-e.cropX),o=~~(n-e.cropY);if(t>0?(e.cropW=t+e.cropChangeX>e.w?e.w-e.cropChangeX:t,e.cropOffsertX=e.cropChangeX):(e.cropW=e.w-e.cropChangeX+Math.abs(t)>e.w?e.cropChangeX:Math.abs(t),e.cropOffsertX=e.cropChangeX+t>0?e.cropChangeX+t:0),e.fixed){var r=~~(e.cropW/e.fixedNumber[0]*e.fixedNumber[1]);r+e.cropOffsertY>e.h?(e.cropH=e.h-e.cropOffsertY,e.cropW=~~(e.cropH/e.fixedNumber[1]*e.fixedNumber[0]),e.cropOffsertX=t>0?e.cropChangeX:e.cropChangeX-e.cropW):e.cropH=r,e.cropOffsertY=e.cropOffsertY}else o>0?(e.cropH=o+e.cropChangeY>e.h?e.h-e.cropChangeY:o,e.cropOffsertY=e.cropChangeY):(e.cropH=e.h-e.cropChangeY+Math.abs(o)>e.h?e.cropChangeY:Math.abs(o),e.cropOffsertY=e.cropChangeY+o>0?e.cropChangeY+o:0)})},changeCropSize:function(t,e,i,n,o){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=i,this.changeCropTypeX=n,this.changeCropTypeY=o,this.cropX=t.clientX?t.clientX:t.touches[0].clientX,this.cropY=t.clientY?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(t){var e=this;t.preventDefault();var i=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,n=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0,o=this.w,r=this.h,a=0,s=0;if(this.centerBox){var c=this.getImgAxis(),l=c.x2,u=c.y2;a=c.x1>0?c.x1:0,s=c.y1>0?c.y1:0,o>l&&(o=l),r>u&&(r=u)}this.$nextTick(function(){var t=~~(i-e.cropX),c=~~(n-e.cropY);if(e.canChangeX&&(1===e.changeCropTypeX?e.cropOldW-t>0?(e.cropW=o-e.cropChangeX-t<=o-a?e.cropOldW-t:e.cropOldW+e.cropChangeX-a,e.cropOffsertX=o-e.cropChangeX-t<=o-a?e.cropChangeX+t:a):(e.cropW=Math.abs(t)+e.cropChangeX<=o?Math.abs(t)-e.cropOldW:o-e.cropOldW-e.cropChangeX,e.cropOffsertX=e.cropChangeX+e.cropOldW):2===e.changeCropTypeX&&(e.cropOldW+t>0?(e.cropW=e.cropOldW+t+e.cropOffsertX<=o?e.cropOldW+t:o-e.cropOffsertX,e.cropOffsertX=e.cropChangeX):(e.cropW=o-e.cropChangeX+Math.abs(t+e.cropOldW)<=o-a?Math.abs(t+e.cropOldW):e.cropChangeX-a,e.cropOffsertX=o-e.cropChangeX+Math.abs(t+e.cropOldW)<=o-a?e.cropChangeX-Math.abs(t+e.cropOldW):a))),e.canChangeY&&(1===e.changeCropTypeY?e.cropOldH-c>0?(e.cropH=r-e.cropChangeY-c<=r-s?e.cropOldH-c:e.cropOldH+e.cropChangeY-s,e.cropOffsertY=r-e.cropChangeY-c<=r-s?e.cropChangeY+c:s):(e.cropH=Math.abs(c)+e.cropChangeY<=r?Math.abs(c)-e.cropOldH:r-e.cropOldH-e.cropChangeY,e.cropOffsertY=e.cropChangeY+e.cropOldH):2===e.changeCropTypeY&&(e.cropOldH+c>0?(e.cropH=e.cropOldH+c+e.cropOffsertY<=r?e.cropOldH+c:r-e.cropOffsertY,e.cropOffsertY=e.cropChangeY):(e.cropH=r-e.cropChangeY+Math.abs(c+e.cropOldH)<=r-s?Math.abs(c+e.cropOldH):e.cropChangeY-s,e.cropOffsertY=r-e.cropChangeY+Math.abs(c+e.cropOldH)<=r-s?e.cropChangeY-Math.abs(c+e.cropOldH):s))),e.canChangeX&&e.fixed){var l=~~(e.cropW/e.fixedNumber[0]*e.fixedNumber[1]);l+e.cropOffsertY>r?(e.cropH=r-e.cropOffsertY,e.cropW=~~(e.cropH/e.fixedNumber[1]*e.fixedNumber[0])):e.cropH=l}if(e.canChangeY&&e.fixed){var u=~~(e.cropH/e.fixedNumber[1]*e.fixedNumber[0]);u+e.cropOffsertX>o?(e.cropW=o-e.cropOffsertX,e.cropH=~~(e.cropW/e.fixedNumber[0]*e.fixedNumber[1])):e.cropW=u}})},changeCropEnd:function(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(t){if(t.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(t),!1;if(t.touches&&2===t.touches.length)return this.crop=!1,this.startMove(t),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var e,i,n=t.clientX?t.clientX:t.touches[0].clientX,o=t.clientY?t.clientY:t.touches[0].clientY;e=n-this.cropOffsertX,i=o-this.cropOffsertY,this.cropX=e,this.cropY=i,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(t,e){var i=this,n=0,o=0;t&&(t.preventDefault(),n=t.clientX?t.clientX:t.touches[0].clientX,o=t.clientY?t.clientY:t.touches[0].clientY),this.$nextTick(function(){var t=void 0,r=void 0,a=~~(n-i.cropX),s=~~(o-i.cropY);if(e&&(a=i.cropOffsertX,s=i.cropOffsertY),t=a<=1?1:~~(a+i.cropW)>i.w?i.w-i.cropW-1:a,r=s<=1?1:~~(s+i.cropH)>i.h?i.h-i.cropH-1:s,i.centerBox){var c=i.getImgAxis();t<c.x1&&(t=c.x1+1),t+i.cropW>c.x2&&(t=c.x2-i.cropW),r<c.y1&&(r=c.y1),r+i.cropH>c.y2&&(r=c.y2-i.cropH-1)}i.cropOffsertX=t,i.cropOffsertY=r,i.$emit("cropMoving",{moving:!0,axis:i.getCropAxis()})})},getImgAxis:function(t,e,i){t=t||this.x,e=e||this.y,i=i||this.scale;var n={x1:0,x2:0,y1:0,y2:0},o=this.trueWidth*i,r=this.trueHeight*i;switch(this.rotate){case 0:n.x1=~~(t+this.trueWidth*(1-i)/2),n.x2=~~(n.x1+this.trueWidth*i),n.y1=~~(e+this.trueHeight*(1-i)/2),n.y2=~~(n.y1+this.trueHeight*i);break;case 1:case-1:case 3:case-3:n.x1=~~(t+this.trueWidth*(1-i)/2)+(o-r)/2,n.x2=~~(n.x1+this.trueHeight*i),n.y1=~~(e+this.trueHeight*(1-i)/2)+(r-o)/2,n.y2=~~(n.y1+this.trueWidth*i);break;default:n.x1=~~(t+this.trueWidth*(1-i)/2),n.x2=~~(n.x1+this.trueWidth*i),n.y1=~~(e+this.trueHeight*(1-i)/2),n.y2=~~(n.y1+this.trueHeight*i)}return n},getCropAxis:function(){var t={x1:0,x2:0,y1:0,y2:0};return t.x1=this.cropOffsertX,t.x2=t.x1+this.cropW,t.y1=this.cropOffsertY,t.y2=t.y1+this.cropH,t},leaveCrop:function(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()})},getCropData:function(t){var e=this,i=document.createElement("canvas"),n=new Image,o=this.rotate,r=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,c=this.cropOffsertY;n.onload=function(){if(0!=~~e.cropW){var l=i.getContext("2d"),u=1;e.high&!e.full&&(u=window.devicePixelRatio);var d=e.cropW*u,h=e.cropH*u,p=r*e.scale*u,A=a*e.scale*u,f=(e.x-s+e.trueWidth*(1-e.scale)/2)*u,g=(e.y-c+e.trueHeight*(1-e.scale)/2)*u;switch(i.width=d,i.height=h,l.save(),o){case 0:e.full?(i.width=d/e.scale,i.height=h/e.scale,l.drawImage(n,f/e.scale,g/e.scale,p/e.scale,A/e.scale)):l.drawImage(n,f,g,p,A);break;case 1:case-3:e.full?(i.width=d/e.scale,i.height=h/e.scale,f=f/e.scale+(p/e.scale-A/e.scale)/2,g=g/e.scale+(A/e.scale-p/e.scale)/2,l.rotate(90*o*Math.PI/180),l.drawImage(n,g,-f-A/e.scale,p/e.scale,A/e.scale)):(f+=(p-A)/2,g+=(A-p)/2,l.rotate(90*o*Math.PI/180),l.drawImage(n,g,-f-A,p,A));break;case 2:case-2:e.full?(i.width=d/e.scale,i.height=h/e.scale,l.rotate(90*o*Math.PI/180),f/=e.scale,g/=e.scale,l.drawImage(n,-f-p/e.scale,-g-A/e.scale,p/e.scale,A/e.scale)):(l.rotate(90*o*Math.PI/180),l.drawImage(n,-f-p,-g-A,p,A));break;case 3:case-1:e.full?(i.width=d/e.scale,i.height=h/e.scale,f=f/e.scale+(p/e.scale-A/e.scale)/2,g=g/e.scale+(A/e.scale-p/e.scale)/2,l.rotate(90*o*Math.PI/180),l.drawImage(n,-g-p/e.scale,f,p/e.scale,A/e.scale)):(f+=(p-A)/2,g+=(A-p)/2,l.rotate(90*o*Math.PI/180),l.drawImage(n,-g-p,f,p,A));break;default:e.full?(i.width=d/e.scale,i.height=h/e.scale,l.drawImage(n,f/e.scale,g/e.scale,p/e.scale,A/e.scale)):l.drawImage(n,f,g,p,A)}l.restore()}else{var m=r*e.scale,v=a*e.scale,w=i.getContext("2d");switch(w.save(),o){case 0:i.width=m,i.height=v,w.drawImage(n,0,0,m,v);break;case 1:case-3:i.width=v,i.height=m,w.rotate(90*o*Math.PI/180),w.drawImage(n,0,-v,m,v);break;case 2:case-2:i.width=m,i.height=v,w.rotate(90*o*Math.PI/180),w.drawImage(n,-m,-v,m,v);break;case 3:case-1:i.width=v,i.height=m,w.rotate(90*o*Math.PI/180),w.drawImage(n,-m,0,m,v);break;default:i.width=m,i.height=v,w.drawImage(n,0,0,m,v)}w.restore()}var b=i.toDataURL("image/"+e.outputType,e.outputSize);t(b)},"data"!==this.img.substr(0,4)&&(n.crossOrigin="anonymous"),n.src=this.imgs},getCropBlob:function(t){this.getCropData(function(e){for(var i=e.split(","),n=i[0].match(/:(.*?);/)[1],o=atob(i[1]),r=o.length,a=new Uint8Array(r);r--;)a[r]=o.charCodeAt(r);t(new Blob([a],{type:n}))})},showPreview:function(){var t={};t.div={width:this.cropW+"px",height:this.cropH+"px"},t.img={width:this.trueWidth+"px",height:this.trueHeight+"px",transform:"scale("+this.scale+","+this.scale+") translate3d("+(this.x-this.cropOffsertX)/this.scale+"px,"+(this.y-this.cropOffsertY)/this.scale+"px,0)rotateZ("+90*this.rotate+"deg)"},t.w=this.cropW,t.h=this.cropH,t.url=this.imgs,this.$emit("realTime",t)},reload:function(){var t=this,e=new Image;e.onload=function(){t.w=~~window.getComputedStyle(t.$refs.cropper).width.replace("px",""),t.h=~~window.getComputedStyle(t.$refs.cropper).height.replace("px",""),t.trueWidth=e.width,t.trueHeight=e.height,t.original?t.scale=1:(t.trueWidth>t.w&&(t.scale=t.w/t.trueWidth),t.trueHeight*t.scale>t.h&&(t.scale=t.h/t.trueHeight)),t.$nextTick(function(){t.x=-(t.trueWidth-t.trueWidth*t.scale)/2+(t.w-t.trueWidth*t.scale)/2,t.y=-(t.trueHeight-t.trueHeight*t.scale)/2+(t.h-t.trueHeight*t.scale)/2,t.loading=!1,t.autoCrop&&t.goAutoCrop(),t.$emit("imgLoad","success")})},e.onerror=function(){t.$emit("imgLoad","error")},e.src=this.imgs},goAutoCrop:function(t,e){this.clearCrop(),this.cropping=!0;var i=this.w,n=this.h;if(this.centerBox){var o=this.trueWidth*this.scale,r=this.trueHeight*this.scale;i=o<i?o:i,n=r<n?r:n}var a=t||this.autoCropWidth,s=e||this.autoCropHeight;0!==a&&0!==s||(a=.8*i,s=.8*n),a=a>i?i:a,s=s>n?n:s,this.fixed&&(s=a/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(a=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(a,s)},changeCrop:function(t,e){var i=this;this.cropW=t,this.cropH=e,this.cropOffsertX=(this.w-t)/2,this.cropOffsertY=(this.h-e)/2,this.centerBox&&this.$nextTick(function(){i.moveCrop(null,!0)})},refresh:function(){var t=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(function(){t.checkedImg()})},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(t,e,i){t=t||this.x,e=e||this.y,i=i||this.scale;var n=!0;if(this.centerBox){var o=this.getImgAxis(t,e,i),r=this.getCropAxis();o.x1>=r.x1&&(n=!1),o.x2<=r.x2&&(n=!1),o.y1>=r.y1&&(n=!1),o.y2<=r.y2&&(n=!1)}return n}},mounted:function(){var t=this;this.showPreview(),this.checkedImg();var e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,i,n){for(var o=atob(this.toDataURL(i,n).split(",")[1]),r=o.length,a=new Uint8Array(r),s=0;s<r;s++)a[s]=o.charCodeAt(s);e(new Blob([a],{type:t.type||"image/png"}))}})},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i.n(n);for(var r in n)["default","default"].indexOf(r)<0&&function(t){i.d(e,t,function(){return n[t]})}(r);var a=i(7),s=i(6),c=function(t){i(8)},l=i.i(s.a)(o.a,a.a,a.b,!1,c,"data-v-7b077dd1",null);e.default=l.exports},function(t,e,i){"use strict";var n=i(1);t.exports=n},function(t,e,i){(t.exports=i(4)()).push([t.i,'.vue-cropper[data-v-7b077dd1]{position:relative;width:100%;height:100%;box-sizing:border-box;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;direction:ltr;touch-action:none;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-box-canvas[data-v-7b077dd1],.cropper-box[data-v-7b077dd1],.cropper-crop-box[data-v-7b077dd1],.cropper-drag-box[data-v-7b077dd1],.cropper-face[data-v-7b077dd1]{position:absolute;top:0;right:0;bottom:0;left:0;user-select:none}.cropper-box-canvas img[data-v-7b077dd1]{position:relative;text-align:left;user-select:none;transform:none;max-width:none;max-height:none}.cropper-box[data-v-7b077dd1]{overflow:hidden}.cropper-move[data-v-7b077dd1]{cursor:move}.cropper-crop[data-v-7b077dd1]{cursor:crosshair}.cropper-modal[data-v-7b077dd1]{background:rgba(0,0,0,.5)}.cropper-view-box[data-v-7b077dd1]{display:block;overflow:hidden;width:100%;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);user-select:none}.cropper-view-box img[data-v-7b077dd1]{user-select:none;text-align:left;max-width:none;max-height:none}.cropper-face[data-v-7b077dd1]{top:0;left:0;background-color:#fff;opacity:.1}.crop-info[data-v-7b077dd1]{position:absolute;left:0;min-width:65px;text-align:center;color:#fff;line-height:20px;background-color:rgba(0,0,0,.8);font-size:12px}.crop-line[data-v-7b077dd1]{position:absolute;display:block;width:100%;height:100%;opacity:.1}.line-w[data-v-7b077dd1]{top:-3px;left:0;height:5px;cursor:n-resize}.line-a[data-v-7b077dd1]{top:0;left:-3px;width:5px;cursor:w-resize}.line-s[data-v-7b077dd1]{bottom:-3px;left:0;height:5px;cursor:s-resize}.line-d[data-v-7b077dd1]{top:0;right:-3px;width:5px;cursor:e-resize}.crop-point[data-v-7b077dd1]{position:absolute;width:8px;height:8px;opacity:.75;background-color:#39f;border-radius:100%}.point1[data-v-7b077dd1]{top:-4px;left:-4px;cursor:nw-resize}.point2[data-v-7b077dd1]{top:-5px;left:50%;margin-left:-3px;cursor:n-resize}.point3[data-v-7b077dd1]{top:-4px;right:-4px;cursor:ne-resize}.point4[data-v-7b077dd1]{top:50%;left:-4px;margin-top:-3px;cursor:w-resize}.point5[data-v-7b077dd1]{top:50%;right:-4px;margin-top:-3px;cursor:w-resize}.point6[data-v-7b077dd1]{bottom:-5px;left:-4px;cursor:sw-resize}.point7[data-v-7b077dd1]{bottom:-5px;left:50%;margin-left:-3px;cursor:s-resize}.point8[data-v-7b077dd1]{bottom:-5px;right:-4px;cursor:nw-resize}@media screen and (max-width:500px){.crop-point[data-v-7b077dd1]{position:absolute;width:20px;height:20px;opacity:.45;background-color:#39f;border-radius:100%}.point1[data-v-7b077dd1]{top:-10px;left:-10px}.point2[data-v-7b077dd1],.point4[data-v-7b077dd1],.point5[data-v-7b077dd1],.point7[data-v-7b077dd1]{display:none}.point3[data-v-7b077dd1]{top:-10px;right:-10px}.point4[data-v-7b077dd1]{top:0;left:0}.point6[data-v-7b077dd1]{bottom:-10px;left:-10px}.point8[data-v-7b077dd1]{bottom:-10px;right:-10px}}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(t,e,i){var o;(function(){function i(t){return!!t.exifdata}function r(t,e){function i(i){var n=a(i);t.exifdata=n||{};var o=function(t){var e=new DataView(t);if(A&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return A&&console.log("Not a valid JPEG"),!1;for(var i=2,n=t.byteLength;i<n;){if(function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)}(e,i)){var o=e.getUint8(i+7);return o%2!=0&&(o+=1),0===o&&(o=4),s(t,i+8+o,e.getUint16(i+6+o))}i++}}(i);if(t.iptcdata=o||{},f.isXmpEnabled){var r=function(t){if("DOMParser"in self){var e=new DataView(t);if(A&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return A&&console.log("Not a valid JPEG"),!1;for(var i=2,n=t.byteLength,o=new DOMParser;i<n-4;){if("http"==u(e,i,4)){var r=i-1,a=e.getUint16(i-2)-1,s=u(e,r,a),c=s.indexOf("xmpmeta>")+8,l=(s=s.substring(s.indexOf("<x:xmpmeta"),c)).indexOf("x:xmpmeta")+10;return s=s.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(l),p(o.parseFromString(s,"text/xml"))}i++}}}(i);t.xmpdata=r||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){i(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,o=new ArrayBuffer(n),r=new Uint8Array(o),a=0;a<n;a++)r[a]=i.charCodeAt(a);return o}(t.src))}else if(/^blob\:/i.test(t.src)){(o=new FileReader).onload=function(t){i(t.target.result)},function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}(t.src,function(t){o.readAsArrayBuffer(t)})}else{var n=new XMLHttpRequest;n.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";i(n.response),n=null},n.open("GET",t.src,!0),n.responseType="arraybuffer",n.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var o;(o=new FileReader).onload=function(t){A&&console.log("Got file of length "+t.target.result.byteLength),i(t.target.result)},o.readAsArrayBuffer(t)}}function a(t){var e=new DataView(t);if(A&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return A&&console.log("Not a valid JPEG"),!1;for(var i,n=2,o=t.byteLength;n<o;){if(255!=e.getUint8(n))return A&&console.log("Not a valid marker at offset "+n+", found: "+e.getUint8(n)),!1;if(i=e.getUint8(n+1),A&&console.log(i),225==i)return A&&console.log("Found 0xFFE1 marker"),d(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}function s(t,e,i){for(var n,o,r,a,s=new DataView(t),c={},l=e;l<e+i;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(a=s.getUint8(l+2))in x&&(r=s.getInt16(l+3),o=x[a],n=u(s,l+5,r),c.hasOwnProperty(o)?c[o]instanceof Array?c[o].push(n):c[o]=[c[o],n]:c[o]=n),l++;return c}function c(t,e,i,n,o){var r,a,s,c=t.getUint16(i,!o),u={};for(s=0;s<c;s++)r=i+12*s+2,!(a=n[t.getUint16(r,!o)])&&A&&console.log("Unknown tag: "+t.getUint16(r,!o)),u[a]=l(t,r,e,i,o);return u}function l(t,e,i,n,o){var r,a,s,c,l,d,h=t.getUint16(e+2,!o),p=t.getUint32(e+4,!o),A=t.getUint32(e+8,!o)+i;switch(h){case 1:case 7:if(1==p)return t.getUint8(e+8,!o);for(r=p>4?A:e+8,a=[],c=0;c<p;c++)a[c]=t.getUint8(r+c);return a;case 2:return u(t,r=p>4?A:e+8,p-1);case 3:if(1==p)return t.getUint16(e+8,!o);for(r=p>2?A:e+8,a=[],c=0;c<p;c++)a[c]=t.getUint16(r+2*c,!o);return a;case 4:if(1==p)return t.getUint32(e+8,!o);for(a=[],c=0;c<p;c++)a[c]=t.getUint32(A+4*c,!o);return a;case 5:if(1==p)return l=t.getUint32(A,!o),d=t.getUint32(A+4,!o),(s=new Number(l/d)).numerator=l,s.denominator=d,s;for(a=[],c=0;c<p;c++)l=t.getUint32(A+8*c,!o),d=t.getUint32(A+4+8*c,!o),a[c]=new Number(l/d),a[c].numerator=l,a[c].denominator=d;return a;case 9:if(1==p)return t.getInt32(e+8,!o);for(a=[],c=0;c<p;c++)a[c]=t.getInt32(A+4*c,!o);return a;case 10:if(1==p)return t.getInt32(A,!o)/t.getInt32(A+4,!o);for(a=[],c=0;c<p;c++)a[c]=t.getInt32(A+8*c,!o)/t.getInt32(A+4+8*c,!o);return a}}function u(t,e,i){var o="";for(n=e;n<e+i;n++)o+=String.fromCharCode(t.getUint8(n));return o}function d(t,e){if("Exif"!=u(t,e,4))return A&&console.log("Not valid EXIF data! "+u(t,e,4)),!1;var i,n,o,r,a,s=e+6;if(18761==t.getUint16(s))i=!1;else{if(19789!=t.getUint16(s))return A&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=t.getUint16(s+2,!i))return A&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=t.getUint32(s+4,!i);if(l<8)return A&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(s+4,!i)),!1;if((n=c(t,s,s+l,m,i)).ExifIFDPointer)for(o in r=c(t,s,s+n.ExifIFDPointer,g,i)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":r[o]=b[o][r[o]];break;case"ExifVersion":case"FlashpixVersion":r[o]=String.fromCharCode(r[o][0],r[o][1],r[o][2],r[o][3]);break;case"ComponentsConfiguration":r[o]=b.Components[r[o][0]]+b.Components[r[o][1]]+b.Components[r[o][2]]+b.Components[r[o][3]]}n[o]=r[o]}if(n.GPSInfoIFDPointer)for(o in a=c(t,s,s+n.GPSInfoIFDPointer,v,i)){switch(o){case"GPSVersionID":a[o]=a[o][0]+"."+a[o][1]+"."+a[o][2]+"."+a[o][3]}n[o]=a[o]}return n.thumbnail=function(t,e,i,n){var o=function(t,e,i){var n=t.getUint16(e,!i);return t.getUint32(e+2+12*n,!i)}(t,e+i,n);if(!o)return{};if(o>t.byteLength)return{};var r=c(t,e,e+o,w,n);if(r.Compression)switch(r.Compression){case 6:if(r.JpegIFOffset&&r.JpegIFByteCount){var a=e+r.JpegIFOffset,s=r.JpegIFByteCount;r.blob=new Blob([new Uint8Array(t.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",r.Compression)}else 2==r.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return r}(t,s,l,i),n}function h(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);e["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var r=t.childNodes.item(o),a=r.nodeName;if(null==e[a])e[a]=h(r);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(h(r))}}return e}function p(t){try{var e={};if(t.children.length>0)for(var i=0;i<t.children.length;i++){var n=t.children.item(i),o=n.attributes;for(var r in o){var a=o[r],s=a.nodeName,c=a.nodeValue;void 0!==s&&(e[s]=c)}var l=n.nodeName;if(void 0===e[l])e[l]=h(n);else{if(void 0===e[l].push){var u=e[l];e[l]=[],e[l].push(u)}e[l].push(h(n))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}var A=!1,f=function(t){return t instanceof f?t:this instanceof f?void(this.EXIFwrapped=t):new f(t)};void 0!==t&&t.exports&&(e=t.exports=f),e.EXIF=f;var g=f.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},m=f.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},v=f.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},w=f.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},b=f.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},x={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};f.enableXmp=function(){f.isXmpEnabled=!0},f.disableXmp=function(){f.isXmpEnabled=!1},f.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(i(t)?e&&e.call(t):r(t,e),0))},f.getTag=function(t,e){if(i(t))return t.exifdata[e]},f.getIptcTag=function(t,e){if(i(t))return t.iptcdata[e]},f.getAllTags=function(t){if(!i(t))return{};var e,n=t.exifdata,o={};for(e in n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o},f.getAllIptcTags=function(t){if(!i(t))return{};var e,n=t.iptcdata,o={};for(e in n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o},f.pretty=function(t){if(!i(t))return"";var e,n=t.exifdata,o="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?o+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":o+=e+" : ["+n[e].length+" values]\r\n":o+=e+" : "+n[e]+"\r\n");return o},f.readFromBinaryFile=function(t){return a(t)},void 0!==(o=function(){return f}.apply(e,[]))&&(t.exports=o)}).call(this)},function(t,e,i){"use strict";e.a=function(t,e,i,n,o,r,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var d=u.render;u.render=function(t,e){return l.call(e),d(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:u}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:t.scaleImg,mouseout:t.cancleScale}},[i("div",{staticClass:"cropper-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}},[i("img",{ref:"cropperImg",attrs:{src:t.imgs,alt:"cropper-img"}})])]),t._v(" "),i("div",{staticClass:"cropper-drag-box",class:{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping},on:{mousedown:t.startMove,touchstart:t.startMove}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}},[i("span",{staticClass:"cropper-view-box"},[i("img",{style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"},attrs:{src:t.imgs,alt:"cropper-img"}})]),t._v(" "),i("span",{staticClass:"cropper-face cropper-move",on:{mousedown:t.cropMove,touchstart:t.cropMove}}),t._v(" "),t.info?i("span",{staticClass:"crop-info",style:{top:t.cropInfo.top}},[t._v("\n          "+t._s(this.cropInfo.width)+" × "+t._s(this.cropInfo.height)+"\n        ")]):t._e(),t._v(" "),t.fixedBox?t._e():i("span",[i("span",{staticClass:"crop-line line-w",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),i("span",{staticClass:"crop-line line-a",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),i("span",{staticClass:"crop-line line-s",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),i("span",{staticClass:"crop-line line-d",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),i("span",{staticClass:"crop-point point1",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,1)}}}),t._v(" "),i("span",{staticClass:"crop-point point2",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),i("span",{staticClass:"crop-point point3",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,1)}}}),t._v(" "),i("span",{staticClass:"crop-point point4",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),i("span",{staticClass:"crop-point point5",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),i("span",{staticClass:"crop-point point6",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,2)}}}),t._v(" "),i("span",{staticClass:"crop-point point7",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),i("span",{staticClass:"crop-point point8",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,2)}}})])])])},o=[]},function(t,e,i){var n=i(3);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,i(9).default)("0f43175e",n,!0,{})},function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=l[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(r(i.parts[o]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(r(i.parts[o]));l[i.id]={id:i.id,refs:1,parts:a}}}}function o(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function r(t){var e,i,n=document.querySelector("style["+g+'~="'+t.id+'"]');if(n){if(p)return A;n.parentNode.removeChild(n)}if(m){var r=h++;n=d||(d=o()),e=a.bind(null,n,r,!1),i=a.bind(null,n,r,!0)}else n=o(),e=function(t,e){var i=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),f.ssrId&&t.setAttribute(g,e.id),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function a(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,o,r){p=o,f=r||{};var a=i.i(s.a)(t,e);return n(a),function(e){for(var o=[],r=0;r<a.length;r++){var c=a[r];(u=l[c.id]).refs--,o.push(u)}for(e?n(a=i.i(s.a)(t,e)):a=[],r=0;r<o.length;r++){var u;if(0===(u=o[r]).refs){for(var d=0;d<u.parts.length;d++)u.parts[d]();delete l[u.id]}}}};var s=i(10),c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},u=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,h=0,p=!1,A=function(){},f=null,g="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){"use strict";e.a=function(t,e){for(var i=[],n={},o=0;o<e.length;o++){var r=e[o],a=r[0],s={id:t+":"+o,css:r[1],media:r[2],sourceMap:r[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}}])},t.exports=o()},FUbX:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("4YfN"),o=i.n(n),r=i("2kTI"),a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"childView",class:["child-view","heigth",t.screenWidth<768?"xs-screen":""]},[i("ul",t._l(t.dynamicList,function(e,n){return i("li",{key:n,staticClass:"another-item clearfix",on:{click:function(i){t.todetail(e)}}},[i("div",{class:["left-img",t.screenWidth<768?"xs-screen":""]},[i("img",{attrs:{src:e.cover,alt:""}})]),t._v(" "),i("div",{class:["right-content",t.screenWidth<768?"xs-screen":""]},[i("div",{staticClass:"title"},[t._v(t._s(e.title?e.title:"标题飞走啦！"))]),t._v(" "),i("div",{staticClass:"article",domProps:{innerHTML:t._s(e.content?t.delHtmlTag(e.content):"内容被吃辣")}}),t._v(" "),i("div",{staticClass:"article-info"},[i("div",[i("span",[i("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shijian"}})]),t._v("\n              "+t._s(e.created_time?t.common.timestampToTime(e.created_time):"")+"\n            ")])]),t._v(" "),i("div",[i("span",[i("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xinxi"}})]),t._v("评论（"+t._s(e.article_info.comment_num?e.article_info.comment_num:0)+"）\n            ")]),t._v(" "),i("span",[i("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-chakan"}})]),t._v("浏览（"+t._s(e.article_info.look_num?e.article_info.look_num:0)+"）\n            ")])])])])])})),t._v(" "),i("div",{staticClass:"pagination-box"},[i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pageInfo.total>t.pageInfo.pre_page,expression:"pageInfo.total > pageInfo.pre_page"}],attrs:{"current-page":t.pageInfo.page,"page-size":t.pageInfo.pre_page,layout:"prev, pager, next",total:t.pageInfo.total},on:{"update:currentPage":function(e){t.$set(t.pageInfo,"page",e)}}}),t._v(" "),t.btnFlag?i("el-button",{staticStyle:{"font-size":"14px!important"},attrs:{type:"text"},on:{click:t.addArticle}},[t._v("添加文章")]):t._e()],1)])},staticRenderFns:[]};var s=function(t){i("fasJ")},c=i("C7Lr")(r.a,a,!1,s,"data-v-2f92fd21",null).exports,l=(i("F6iT"),i("btuP")),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"uploadBox",staticClass:"upload-box"},[i("div",{staticClass:"base-content",on:{click:t.openModel}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("p",[t._v("点击上传图片")])]),t._v(" "),i("div",{staticClass:"uploadImg-back",style:{display:t.uploadImgUrl?"block":"none"},on:{mouseenter:t.enterImgBack,mouseleave:t.leaveImgBack}},[t.uploadImgUrl?i("img",{attrs:{src:t.uploadImgUrl}}):t._e(),t._v(" "),i("div",{ref:"lighrGrayBox",staticClass:"lighrGray-box"},[i("i",{staticClass:"el-icon-delete",on:{click:t.clearImgback}})])])]),t._v(" "),i("el-dialog",{attrs:{title:"上传图片",visible:t.dialogVisible,width:t.isPc?"50%":"90%","append-to-body":"","modal-append-to-body":"","before-close":t.beforeClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"uploadImg-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.partIndex,expression:"partIndex == 1"}],staticClass:"step-one"},[i("div",{staticClass:"base-content",on:{click:function(e){t.dialogVisible=!0}}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("p",[t._v("点击上传图片")])]),t._v(" "),i("input",{ref:"fileInput",staticClass:"upload-file-btn",attrs:{type:"file"},on:{change:function(e){t.uploadImg(e,1)}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.partIndex,expression:"partIndex == 2"}]},[i("vueCropper",{ref:"cropper",attrs:{img:t.option.img,"output-size":t.option.size,"output-type":t.option.outputType,info:!0,full:t.option.full,"can-move":t.option.canMove,"can-move-box":t.option.canMoveBox,"fixed-box":t.option.fixedBox,original:t.option.original,"auto-crop":t.option.autoCrop,"auto-crop-width":t.option.autoCropWidth,"auto-crop-height":t.option.autoCropHeight,"center-box":t.option.centerBox,high:t.option.high},on:{"real-time":t.realTime,"img-load":t.imgLoad}})],1)]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.beforeClose}},[t._v("取 消")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.partIndex,expression:"partIndex == 2"}],attrs:{type:"primary"},on:{click:t.sureSubmit}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var d=function(t){i("4anw")},h=i("C7Lr")(l.a,u,!1,d,"data-v-812c0dae",null).exports,p=i("Eq4a"),A={name:"add-article",data:function(){return{ruleForm:{cover:"",title:"",editor:null},rules:{cover:[{required:!0}],content:[{required:!0}],title:[{required:!0,message:"请输入文章标题",trigger:"blur"}]},isAdd:!0}},methods:{articleList:function(){this.$emit("articleList","articleList")},uploadSuccess:function(t){this.ruleForm.cover=t},submitEditor:function(){var t=this;if(t.ruleForm.editor){var e=t.ruleForm.editor.txt.html();if(""==e||""==t.ruleForm.title||""==t.ruleForm.cover)return void t.$message.info("请填写完整内容");this.isAdd?t.$http.post("/apis/api/article/addArticle",{title:t.ruleForm.title,content:e,cover:t.ruleForm.cover,username:"游客12138"}).then(function(e){t.$message.success("添加成功"),t.$emit("articleList","articleList")}):t.$http.post("/apis/api/article/updateArticle",{title:t.ruleForm.title,content:e,cover:t.ruleForm.cover,username:"游客12138",id:t.articleEditInfo.id}).then(function(e){t.$message.success("编辑成功"),t.$emit("articleList","articleList")})}}},mounted:function(){this.editor=null,document.getElementById("editor").innerHTML="";var t=new p("#editor");t.customConfig.uploadImgServer="/apis/api/upload",t.customConfig.uploadImgMaxSize=3145728,t.customConfig.uploadImgMaxLength=1,t.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","list","justify","emoticon","image"],t.customConfig.uploadImgShowBase64=!0,t.create(),this.articleEditInfo?(this.isAdd=!1,this.ruleForm.cover=this.articleEditInfo.cover,this.ruleForm.title=this.articleEditInfo.title,t.txt.html(this.articleEditInfo.content)):this.isAdd=!0,this.ruleForm.editor=t},components:{imgUpload:h},props:["articleEditInfo"]},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"child-view heigth"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"文章封面",prop:"cover"}},[i("img-upload",{attrs:{initImg:this.ruleForm.cover},on:{uploadSuccess:t.uploadSuccess}})],1),t._v(" "),i("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[i("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"请输入文章标题",clearable:""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("div",{attrs:{id:"editor"}})],1),t._v(" "),i("div",{staticClass:"btn-grounp"},[i("el-button",{attrs:{type:"info"},on:{click:t.articleList}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.submitEditor}},[t._v("提交")])],1)],1)},staticRenderFns:[]};var g=i("C7Lr")(A,f,!1,function(t){i("Wrdk")},"data-v-5a45fc25",null).exports,m=i("9rMa"),v={name:"article-detail",data:function(){return{btnFlag:!1,config:{url:"",sites:["weibo","qzone","qq","wechat"],wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信扫一下二维码</p><p>将本文分享至朋友圈</p>"},article_info:null}},methods:{toEdit:function(){this.$emit("toedit",this.article_info)}},mounted:function(){1==this.$route.query.admin&&(this.btnFlag=!0);var t=this;this.$http.post("/apis/api/article/findOne",{id:this.articleInfo.id,addLook:!0}).then(function(e){t.article_info=e.date;var i=void 0;i=location.origin.indexOf("localhost")>=0?"http://localhost:8080/#/indexPage?article=true&id="+t.articleInfo.id:"http://lioncc.cn/#/indexPage?article=true&id="+t.articleInfo.id,t.config.url=i})},computed:o()({},Object(m.c)({isPc:function(t){return t.baseStates.isPc}})),props:["articleInfo"]},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.article_info?i("div",{staticClass:"article-box"},[i("p",{staticClass:"article-title"},[t._v(t._s(t.article_info.title))]),t._v(" "),i("div",{staticClass:"article-info clearfix"},[i("span",{staticClass:"item-info"},[i("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-geren"}})]),t._v(" "),i("span",{staticClass:"item-info-text"},[t._v(t._s(t.article_info.user_info.username))])]),t._v(" "),i("span",{staticClass:"item-info"},[i("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-rili"}})]),t._v(" "),i("span",{staticClass:"item-info-text"},[t._v(t._s(t.article_info.created_time?t.common.timestampToTime(t.article_info.created_time):""))])])]),t._v(" "),i("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.article_info.content)}}),t._v(" "),i("img",{staticClass:"cover-img",attrs:{src:t.article_info.cover}}),t._v(" "),t.config.url?i("div",{staticClass:"share-box"},[t._v("\n    分享：\n    "),i("share",{class:["share-btn-box",t.isPc?"pcScreen":""],attrs:{config:t.config}})],1):t._e(),t._v(" "),i("div",[i("br"),t._v(" "),t.btnFlag?i("el-button",{staticStyle:{"font-size":"14px!important"},attrs:{type:"text"},on:{click:t.toEdit}},[t._v("编辑文章")]):t._e()],1)]):t._e()},staticRenderFns:[]};var b=i("C7Lr")(v,w,!1,function(t){i("2Dnq")},"data-v-1d988c90",null).exports,x={name:"index-page",data:function(){return{articleName:"articleList",articleInfo:null,articleEdit_info:null}},mounted:function(){this.testArticle()},methods:o()({toAddArticle:function(t){this.articleEdit_info=null,this.articleName="addArticle",this.$refs.articleBox.style.height="550px"},toedit:function(t){this.articleEdit_info=t,this.articleName="addArticle",this.$refs.articleBox.style.height="550px"},toArticleList:function(t){this.articleName=t},todetail:function(t,e){this.articleEdit_info=null,this.articleInfo=e,this.articleName=t,document.getElementById("mainContaniner").scrollTop="0",this.$refs.articleBox.style.height="auto"},autoHeight:function(t){this.$refs.articleBox.style.height=t+"px"},testArticle:function(){this.$route.query.article&&this.todetail("articleDetail",{id:this.$route.query.id})}},Object(m.b)(["changeLoginModel"])),computed:o()({},Object(m.c)({username:function(t){return t.userInfor.username}})),components:{articleList:c,addArticle:g,articleDetail:b}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container padding10"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{xs:24,sm:16}},[i("div",{staticClass:"item-model"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[t._v("相关动态")]),t._v(" "),"articleList"!=t.articleName?i("svg",{staticClass:"iconfont",staticStyle:{float:"right",cursor:"pointer"},attrs:{"aria-hidden":"true"},on:{click:function(e){t.toArticleList("articleList")}}},[i("use",{attrs:{"xlink:href":"#icon-fanhui"}})]):t._e(),t._v(" "),"articleList"!=t.articleName||t.username?t._e():i("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.changeLoginModel(!0)}}},[t._v("登录\n              ")])],1),t._v(" "),i("div",{ref:"articleBox",staticStyle:{position:"relative",transition:"all .5s","min-height":"200px"}},[i("transition",{attrs:{name:"slide-left"}},[i(t.articleName,{tag:"component",attrs:{articleEditInfo:t.articleEdit_info,articleInfo:t.articleInfo},on:{addArticle:t.toAddArticle,toedit:t.toedit,articleList:t.toArticleList,autoHeight:t.autoHeight,todetail:t.todetail}})],1)],1)])],1)]),t._v(" "),i("el-col",{attrs:{xs:24,sm:8}},[i("div",{staticClass:"item-model"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[t._v("关注小程序")])]),t._v(" "),i("div",{staticClass:"public-notice my-smallprogram"},[i("img",{attrs:{src:"https://lionynn.cn/images/smallProgram.jpg",alt:""}}),t._v(" "),i("div",{staticClass:"smallgrogram-introduce"},[i("p",[t._v("ID：四季豆花")]),t._v(" "),i("p",[t._v("个人网站关联的小程序，记录family的点点滴滴。"),i("br"),i("br"),t._v("不忘丶始终")])])])]),t._v(" "),i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[t._v("消息")])]),t._v(" "),i("div",{staticClass:"public-notice",staticStyle:{"text-indent":"2em"}},[i("p",[t._v("博客以后会在每两周的星期天晚上12:00更新迭代，希望大家多多支持。")]),t._v(" "),i("p",[t._v("后续会加入更多的功能，例如基本的登录注册、权限模块，如果经费及精力条件允许下会尝试的接入一些第三方功能。")]),t._v(" "),i("p",{staticClass:"update-time"},[t._v("下次更新：2018-10-21")])])]),t._v(" "),i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[t._v("社交")])]),t._v(" "),i("div",{staticClass:"public-notice social-content"},[i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("GitHub")]),t._v(" "),i("div",{staticClass:"social-contact"},[i("a",{attrs:{href:"https://github.com/Stur-Lion",target:"_blank"}},[i("img",{attrs:{src:"https://lionynn.cn/images/github.jpg",alt:""}})])])]),t._v(" "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:"https://lionynn.cn/images/qq-qr.png",alt:""}})]),t._v(" "),i("div",{staticClass:"social-contact"},[i("img",{attrs:{src:"https://lionynn.cn/images/qq.jpg",alt:""}})])]),t._v(" "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:"https://lionynn.cn/images/weibo-qr.jpg",alt:""}})]),t._v(" "),i("div",{staticClass:"social-contact"},[i("img",{attrs:{src:"https://lionynn.cn/images/weibo.jpg",alt:""}})])]),t._v(" "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("img",{attrs:{src:"https://lionynn.cn/images/weixin-qr.jpg",alt:""}})]),t._v(" "),i("div",{staticClass:"social-contact"},[i("img",{attrs:{src:"https://lionynn.cn/images/weixin.jpg",alt:""}})])])],1)])],1)])],1)],1)])},staticRenderFns:[]};var y=i("C7Lr")(x,C,!1,function(t){i("SzYs")},"data-v-1a688def",null);e.default=y.exports},JBI7:function(t,e,i){var n=i("T9r1");t.exports=Array.isArray||function(t){return"Array"==n(t)}},KGKV:function(t,e,i){i("5FyJ")("observable")},"MqD/":function(t,e,i){var n=i("XvZ9"),o=i("go9Q"),r=i("/r4/"),a=i("J35F"),s=i("Mcur"),c=i("SS50"),l=Object.getOwnPropertyDescriptor;e.f=i("sjnA")?l:function(t,e){if(t=r(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return o(!n.f.call(t,e),t[e])}},Oc2Y:function(t,e,i){"use strict";var n=i("C02x"),o=i("Mcur"),r=i("sjnA"),a=i("FITv"),s=i("EyUJ"),c=i("DVkV").KEY,l=i("BRDz"),u=i("KV1y"),d=i("XAI7"),h=i("pplb"),p=i("biYF"),A=i("CVJP"),f=i("5FyJ"),g=i("kCDZ"),m=i("JBI7"),v=i("93K8"),w=i("8Nvm"),b=i("/r4/"),x=i("J35F"),C=i("go9Q"),y=i("c1o2"),E=i("7J6k"),I=i("MqD/"),B=i("lIiZ"),S=i("5pnV"),_=I.f,M=B.f,k=E.f,F=n.Symbol,D=n.JSON,T=D&&D.stringify,N=p("_hidden"),Q=p("toPrimitive"),P={}.propertyIsEnumerable,Y=u("symbol-registry"),R=u("symbols"),L=u("op-symbols"),O=Object.prototype,U="function"==typeof F,H=n.QObject,G=!H||!H.prototype||!H.prototype.findChild,z=r&&l(function(){return 7!=y(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=_(O,e);n&&delete O[e],M(t,e,i),n&&t!==O&&M(O,e,n)}:M,j=function(t){var e=R[t]=y(F.prototype);return e._k=t,e},X=U&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},W=function(t,e,i){return t===O&&W(L,e,i),v(t),e=x(e,!0),v(i),o(R,e)?(i.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),i=y(i,{enumerable:C(0,!1)})):(o(t,N)||M(t,N,C(1,{})),t[N][e]=!0),z(t,e,i)):M(t,e,i)},$=function(t,e){v(t);for(var i,n=g(e=b(e)),o=0,r=n.length;r>o;)W(t,i=n[o++],e[i]);return t},J=function(t){var e=P.call(this,t=x(t,!0));return!(this===O&&o(R,t)&&!o(L,t))&&(!(e||!o(this,t)||!o(R,t)||o(this,N)&&this[N][t])||e)},V=function(t,e){if(t=b(t),e=x(e,!0),t!==O||!o(R,e)||o(L,e)){var i=_(t,e);return!i||!o(R,e)||o(t,N)&&t[N][e]||(i.enumerable=!0),i}},q=function(t){for(var e,i=k(b(t)),n=[],r=0;i.length>r;)o(R,e=i[r++])||e==N||e==c||n.push(e);return n},K=function(t){for(var e,i=t===O,n=k(i?L:b(t)),r=[],a=0;n.length>a;)!o(R,e=n[a++])||i&&!o(O,e)||r.push(R[e]);return r};U||(s((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(i){this===O&&e.call(L,i),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),z(this,t,C(1,i))};return r&&G&&z(O,t,{configurable:!0,set:e}),j(t)}).prototype,"toString",function(){return this._k}),I.f=V,B.f=W,i("9akD").f=E.f=q,i("XvZ9").f=J,i("j6Iq").f=K,r&&!i("bgFz")&&s(O,"propertyIsEnumerable",J,!0),A.f=function(t){return j(p(t))}),a(a.G+a.W+a.F*!U,{Symbol:F});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=S(p.store),it=0;et.length>it;)f(et[it++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return o(Y,t+="")?Y[t]:Y[t]=F(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?y(t):$(y(t),e)},defineProperty:W,defineProperties:$,getOwnPropertyDescriptor:V,getOwnPropertyNames:q,getOwnPropertySymbols:K}),D&&a(a.S+a.F*(!U||l(function(){var t=F();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e=n[1],(w(e)||void 0!==t)&&!X(t))return m(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!X(e))return e}),n[1]=e,T.apply(D,n)}}),F.prototype[Q]||i("bHZz")(F.prototype,Q,F.prototype.valueOf),d(F,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},S1jn:function(t,e,i){i("IsPG"),i("A1pn"),t.exports=i("CVJP").f("iterator")},SzYs:function(t,e){},WAQe:function(t,e,i){i("5FyJ")("asyncIterator")},Wrdk:function(t,e){},Yyxk:function(t,e,i){t.exports={default:i("sDqF"),__esModule:!0}},btuP:function(t,e,i){"use strict";(function(t){var n=i("4YfN"),o=i.n(n),r=i("hRKE"),a=i.n(r),s=i("F6iT"),c=i.n(s),l=i("9rMa");e.a={name:"img-upload",data:function(){return{dialogVisible:!1,partIndex:1,uploadImgUrl:null,option:{img:"",size:1,full:!1,outputType:"png",canMove:!0,fixedBox:!0,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:240,autoCropHeight:150,centerBox:!0,high:!0}}},methods:{openModel:function(){this.dialogVisible=!0,this.uploadImgUrl=null},uploadImg:function(t,e){var i=this,n=t.target.files[0];if(i.fileName=n.name,!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var o=new FileReader;o.onload=function(t){var n=void 0;n="object"===a()(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,i.partIndex=2,1===e?i.option.img=n:2===e&&(i.example2.img=n)},o.readAsArrayBuffer(n)},realTime:function(t){this.previews=t},imgLoad:function(t){},enterImgBack:function(){t(this.$refs.lighrGrayBox).fadeIn(100)},leaveImgBack:function(){t(this.$refs.lighrGrayBox).fadeOut(100)},clearImgback:function(){this.uploadImgUrl=null},beforeClose:function(){this.dialogVisible=!1,this.partIndex=1,t(this.$refs.fileInput).val("")},sureSubmit:function(){var t=this,e=this,i=new FormData;this.$refs.cropper.getCropBlob(function(n){var o=window.URL.createObjectURL(n);t.model=!0,t.modelSrc=o,i.append("file",n,t.fileName),t.$http.post("/apis/api/upload",i,{contentType:!1,processData:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){setTimeout(function(){var i=t.date[0];e.$message({type:"success",message:"上传成功"}),e.beforeClose(),e.uploadImgUrl=i,e.$emit("uploadSuccess",i)},1e3)})})}},computed:o()({},Object(l.c)({isPc:function(t){return t.baseStates.isPc}})),mounted:function(){var t=this;this.$nextTick(function(){t.$refs.uploadBox.style.width=t.width?t.width:"180px",t.$refs.uploadBox.style.height=t.height?t.height:"110px",t.initImg&&(t.uploadImgUrl=t.initImg)})},props:["width","height","initImg"],components:{VueCropper:c.a}}}).call(e,i("fu2u"))},fasJ:function(t,e){},hRKE:function(t,e,i){"use strict";e.__esModule=!0;var n=a(i("2LoE")),o=a(i("Yyxk")),r="function"==typeof o.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===r(n.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":r(t)}},kCDZ:function(t,e,i){var n=i("5pnV"),o=i("j6Iq"),r=i("XvZ9");t.exports=function(t){var e=n(t),i=o.f;if(i)for(var a,s=i(t),c=r.f,l=0;s.length>l;)c.call(t,a=s[l++])&&e.push(a);return e}},sDqF:function(t,e,i){i("Oc2Y"),i("Gquc"),i("WAQe"),i("KGKV"),t.exports=i("AKd3").Symbol}});
//# sourceMappingURL=1.6788c17735f888e9ce5c.js.map